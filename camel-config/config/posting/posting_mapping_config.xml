<?xml version="1.0" encoding="UTF-8"?>
<transformation-map>
	<is-full-paths>false</is-full-paths>
	<references-props>posting/posting_references.properties</references-props>
	<head>
		<start>101</start>
		<transform>
			<field-src>
				<name>SETTLEMENT DATE</name>
				<position>
					<begin-index>19</begin-index>
					<end-index>33</end-index>
				</position>
				<type>string</type>
				<length>14</length>
				<pattern>yyyyMMddHHmmss</pattern>
			</field-src>
			<transform-method>stringToDate</transform-method>
			<field-dst>
				<name>start_date</name>
				<position>
					<xpath>/clearing/start_date</xpath>
				</position>
				<type>date</type>
				<length/>
				<pattern>yyyy-MM-dd'T'HH:mm:ss</pattern>
			</field-dst>
		</transform>
		<!--<transform>
			<field-src>
				<name>SETTLEMENT TIME</name>
				<position>
					<begin-index>28</begin-index>
					<end-index>33</end-index>
				</position>
				<type>string</type>
				<length>6</length>
				<pattern>HHmmss</pattern>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>start_date</name>
				<position>
					<xpath>/clearing/start_date</xpath>
				</position>
				<type>date</type>
				<length/>
				<pattern>'T'HH:mm:ss</pattern>
			</field-dst>
		</transform>-->
		<!--<transform>
			<field-src>
				<name>NEXT SETTLEMENT TIME</name>
				<position>
					<begin-index>124</begin-index>
					<end-index>129</end-index>
				</position>
				<type>string</type>
				<length>6</length>
				<pattern>HHmmss</pattern>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>end_date</name>
				<position>
					<xpath>/clearing/end_date</xpath>
				</position>
				<type>date</type>
				<length/>
				<pattern>'T'HH:mm:ss</pattern>
			</field-dst>
		</transform>-->
	</head>
	<base>
		<transform>
			<field-src>
				<name>PAN</name>
				<position>
					<begin-index>1</begin-index>
					<end-index>19</end-index>
				</position>
				<type>string</type>
				<length>19</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>issuer/card_number</name>
				<position>
					<xpath>/operation/issuer/card_number</xpath>
				</position>
				<type>string</type>
				<length>19</length>
				<pattern/>
			</field-dst>
		</transform>
		<!--transform>
			<field-src>
				<name>Amount, Requested</name>
				<position>
					<begin-index>26</begin-index>
					<end-index>37</end-index>
				</position>
				<type>number</type>
				<length>12</length>
				<pattern/>
			</field-src>
			<transform-method>stringToDigit</transform-method>
			<field-dst>
				<name>oper_amount/amount_value</name>
				<position>
					<xpath>/operation/oper_amount/amount_value</xpath>
				</position>
				<type>long</type>
				<length>16</length>
				<pattern/>
			</field-dst>
		</transform-->
		<!--<transform>
			<field-src>
				<name>Amount, Account 2</name>
				<position>
					<begin-index>38</begin-index>
					<end-index>49</end-index>
				</position>
				<type>number</type>
				<length>12</length>
				<pattern/>
			</field-src>
			<transform-method>stringToDigit</transform-method>
			<field-dst>
				<name>destination/account_amount</name>
				<position>
					<xpath>/operation/destination/account_amount</xpath>
				</position>
				<type>long</type>
				<length>16</length>
				<pattern/>
			</field-dst>
		</transform>-->
		<transform>
			<field-src>
				<name>Amount, Account 1</name>
				<position>
					<begin-index>50</begin-index>
					<end-index>61</end-index>
				</position>
				<type>number</type>
				<length>12</length>
				<pattern/>
			</field-src>
			<transform-method>stringToDigit</transform-method>
			<field-dst>
				<name>issuer/account_amount</name>
				<position>
					<xpath>/operation/issuer/account_amount</xpath>
					<xpath>/operation/sttl_amount/amount_value</xpath>
					<!--xpath>/operation/baseII_data/sttl_amount</xpath-->
				</position>
				<type>long</type>
				<length>16</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Transmission Date and Time</name>
				<position>
					<begin-index>62</begin-index>
					<end-index>71</end-index>
				</position>
				<type>number</type>
				<length>10</length>
				<pattern>MMddHHmmss</pattern>
			</field-src>
			<transform-method>stringToDate</transform-method>
			<field-dst>
				<name>oper_date</name>
				<position>
					<xpath>/operation/oper_date</xpath>
				</position>
				<type>date</type>
				<length/>
				<pattern>yyyy-MM-dd'T'HH:mm:ss</pattern>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Conversion Rate Settlement</name>
				<position>
					<begin-index>80</begin-index>
					<end-index>87</end-index>
				</position>
				<type>number</type>
				<length>8</length>
				<pattern/>
			</field-src>
			<transform-method>stringToDigit</transform-method>
			<field-dst>
				<name>auth_data/network_cnvt_rate</name>
				<position>
					<xpath>/operation/auth_data/network_cnvt_rate</xpath>
				</position>
				<type>long</type>
				<length>16</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Conversion Rate Cardholder Billing</name>
				<position>
					<begin-index>88</begin-index>
					<end-index>95</end-index>
				</position>
				<type>number</type>
				<length>8</length>
				<pattern/>
			</field-src>
			<transform-method>stringToDigit</transform-method>
			<field-dst>
				<name>auth_data/bin_cnvt_rate</name>
				<position>
					<xpath>/operation/auth_data/bin_cnvt_rate</xpath>
				</position>
				<type>long</type>
				<length>16</length>
			</field-dst>
		</transform>
		
        <transform>
			<field-src>
				<name>Universal Transaction Number</name>
				<position>
					<begin-index>102</begin-index>
					<end-index>113</end-index>
				</position>
				<type>string</type>
				<length>12</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>auth_data/external_auth_id</name>
				<position>
					<xpath>/operation/auth_data/external_auth_id</xpath>
				</position>
				<type>string</type>
				<length>32</length>
				<pattern/>
			</field-dst>
		</transform>
        
		<transform>
			<field-src>
				<name>Reversal Flag</name>
				<position>
					<begin-index>114</begin-index>
					<end-index>114</end-index>
				</position>
				<type>number</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>is_reversal</name>
				<position>
					<xpath>/operation/is_reversal</xpath>
				</position>
				<type>int</type>
				<length>1</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>SVFE Message Type</name>
				<!-- We process only first three symbols from message type code  -->
				<position>
					<begin-index>781</begin-index>
					<end-index>783</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_msgt</transform-method>
			<field-dst>
				<name>msg_type</name>
				<position>
					<xpath>/operation/msg_type</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>SVFE System Date Time</name>
				<position>
					<begin-index>132</begin-index>
					<end-index>141</end-index>
				</position>
				<type>number</type>
				<length>10</length>
				<pattern>HHmmssMMdd</pattern>
			</field-src>
			<transform-method>stringToDate</transform-method>
			<field-dst>
				<name>host_date</name>
				<position>
					<xpath>/operation/host_date</xpath>
				</position>
				<type>date</type>
				<length/>
				<pattern>yyyy-MM-dd'T'HH:mm:ss</pattern>
			</field-dst>
		</transform>
		<!--<transform>
			<field-src>
				<name>SVFE System Date</name>
				<position>
					<begin-index>132</begin-index>
					<end-index>135</end-index>
				</position>
				<type>number</type>
				<length>4</length>
				<pattern>MMdd</pattern>
			</field-src>
			<transform-method></transform-method>
			<field-dst>
				<name>host_date</name>
				<position>
					<xpath>/operation/host_date</xpath>
				</position>
				<type>date</type>
				<length/>
				<pattern>yyyy-MM-dd</pattern>
			</field-dst>
		</transform>-->
		<transform>
			<field-src>
				<name>Date, Expiration</name>
				<position>
					<begin-index>142</begin-index>
					<end-index>147</end-index>
				</position>
				<type>number</type>
				<length>6</length>
				<pattern>yyyyMM</pattern>
			</field-src>
			<transform-method>stringToDateCardExp</transform-method>
			<field-dst>
				<name>issuer/card_expir_date</name>
				<position>
					<xpath>/operation/issuer/card_expir_date</xpath>
				</position>
				<type>date</type>
				<length/>
				<pattern>yyyy-MM-dd'T'HH:mm:ss</pattern>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Date, Conversion – Card Network</name>
				<position>
					<begin-index>176</begin-index>
					<end-index>179</end-index>
				</position>
				<type>number</type>
				<length>4</length>
				<pattern>MMdd</pattern>
			</field-src>
			<transform-method>stringToDate</transform-method>
			<field-dst>
				<name>auth_data/network_cnvt_date</name>
				<position>
					<xpath>/operation/auth_data/network_cnvt_date</xpath>
				</position>
				<type>date</type>
				<length/>
				<pattern>yyyy-MM-dd'T'HH:mm:ss</pattern>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Merchant’s Type</name>
				<position>
					<begin-index>192</begin-index>
					<end-index>195</end-index>
				</position>
				<type>number</type>
				<length>4</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>mcc</name>
				<position>
					<xpath>/operation/mcc</xpath>
				</position>
				<type>string</type>
				<length>4</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Point-of-Service Entry Mode</name>
				<position>
					<begin-index>205</begin-index>
					<end-index>207</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>auth_data/pos_entry_mode</name>
				<position>
					<xpath>/operation/auth_data/pos_entry_mode</xpath>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Card Sequence Number</name>
				<position>
					<begin-index>208</begin-index>
					<end-index>210</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method>stringToDigit</transform-method>
			<field-dst>
				<name>issuer/card_seq_number</name>
				<position>
					<xpath>/operation/issuer/card_seq_number</xpath>
				</position>
				<type>int</type>
				<length>4</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Point-of-Service Condition Code</name>
				<position>
					<begin-index>214</begin-index>
					<end-index>215</end-index>
				</position>
				<type>number</type>
				<length>2</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>auth_data/pos_cond_code</name>
				<position>
					<xpath>/operation/auth_data/pos_cond_code</xpath>
				</position>
				<type>string</type>
				<length>2</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Amount, Transaction Fee</name>
				<position>
					<begin-index>218</begin-index>
					<end-index>225</end-index>
				</position>
				<type>number</type>
				<length>8</length>
				<pattern/>
			</field-src>
			<transform-method>stringToDigit</transform-method>
			<field-dst>
				<name>oper_surcharge_amount/amount_value</name>
				<position>
					<xpath>/operation/oper_surcharge_amount/amount_value</xpath>
				</position>
				<type>long</type>
				<length>16</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Acquiring Institution Identification Code</name>
				<position>
					<begin-index>250</begin-index>
					<end-index>260</end-index>
				</position>
				<type>string</type>
				<length>11</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>acq_inst_bin</name>
				<position>
					<xpath>/operation/acq_inst_bin</xpath>
				</position>
				<type>string</type>
				<length>12</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Network Reference Number</name>
				<position>
					<begin-index>272</begin-index>
					<end-index>299</end-index>
				</position>
				<type>string</type>
				<length>28</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>network_refnum</name>
				<position>
					<xpath>/operation/network_refnum</xpath>
					<xpath>/operation/auth_data/transaction_id</xpath>
				</position>
				<type>string</type>
				<length>36</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Retrieval Reference Number</name>
				<position>
					<begin-index>300</begin-index>
					<end-index>311</end-index>
				</position>
				<type>string</type>
				<length>12</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>originator_refnum</name>
				<position>
					<xpath>/operation/originator_refnum</xpath>
				</position>
				<type>string</type>
				<length>36</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Authorization Identification Response</name>
				<position>
					<begin-index>312</begin-index>
					<end-index>317</end-index>
				</position>
				<type>string</type>
				<length>6</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>issuer/auth_code</name>
				<position>
					<xpath>/operation/issuer/auth_code</xpath>
				</position>
				<type>string</type>
				<length>6</length>
				<pattern/>
			</field-dst>
		</transform>
		<!--<transform>
			<field-src>
				<name>Response Code</name>
				<position>
					<begin-index>312</begin-index>
					<end-index>313</end-index>
				</position>
				<type>number</type>
				<length>2</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_rscd</transform-method>
			<field-dst>
				<name>status_reason</name>
				<position>
					<xpath>/operation/status_reason</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>-->
		<transform>
			<field-src>
				<name>Card Acceptor Terminal Identification</name>
				<position>
					<begin-index>323</begin-index>
					<end-index>338</end-index>
				</position>
				<type>string</type>
				<length>16</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>terminal_number</name>
				<position>
					<xpath>/operation/terminal_number</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<condition>
				<dependsOn>
					<begin-index>935</begin-index>
					<end-index>937</end-index>
				</dependsOn>
				<clause>if-equals</clause>
				<values>001,002</values>
			</condition>
			<field-src>
				<name>Card Acceptor Terminal Identification</name>
				<position>
					<begin-index>339</begin-index>
					<end-index>353</end-index>
				</position>
				<type>string</type>
				<length>15</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>terminal_number</name>
				<position>
					<xpath>/operation/acquirer/client_id_value</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<condition>
				<dependsOn>
					<begin-index>935</begin-index>
					<end-index>937</end-index>
				</dependsOn>
				<clause>if-equals</clause>
				<values>001,002</values>
			</condition>
			<transform-method>customValue</transform-method>
			<field-dst>
				<value>CITPTRMN</value>
				<position>
					<xpath>/operation/acquirer/client_id_type</xpath>
				</position>
				<type>string</type>
				<length>8</length>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Card Acceptor Name</name>
				<position>
					<begin-index>354</begin-index>
					<end-index>384</end-index>
				</position>
				<type>string</type>
				<length>31</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>merchant_name</name>
				<position>
					<xpath>/operation/merchant_name</xpath>
				</position>
				<type>string</type>
				<length>200</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Card Acceptor Street</name>
				<position>
					<begin-index>385</begin-index>
					<end-index>415</end-index>
				</position>
				<type>string</type>
				<length>31</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>merchant_street</name>
				<position>
					<xpath>/operation/merchant_street</xpath>
				</position>
				<type>string</type>
				<length>200</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Card Acceptor City</name>
				<position>
					<begin-index>416</begin-index>
					<end-index>446</end-index>
				</position>
				<type>string</type>
				<length>31</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>merchant_city</name>
				<position>
					<xpath>/operation/merchant_city</xpath>
				</position>
				<type>string</type>
				<length>200</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Card Acceptor State</name>
				<position>
					<begin-index>447</begin-index>
					<end-index>461</end-index>
				</position>
				<type>string</type>
				<length>15</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<!--may be should be a map-->
			<field-dst>
				<name>merchant_region</name>
				<position>
					<xpath>/operation/merchant_region</xpath>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Card Acceptor Country</name>
				<position>
					<begin-index>462</begin-index>
					<end-index>476</end-index>
				</position>
				<type>string</type>
				<length>15</length>
				<pattern/>
			</field-src>
			<transform-method>formatCountry</transform-method>
			<field-dst>
				<name>merchant_country</name>
				<position>
					<xpath>/operation/merchant_country</xpath>
				</position>
				<type>long</type>
				<length>3</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Card Acceptor Postal Code</name>
				<position>
					<begin-index>477</begin-index>
					<end-index>491</end-index>
				</position>
				<type>string</type>
				<length>15</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>merchant_postcode</name>
				<position>
					<xpath>/operation/merchant_postcode</xpath>
				</position>
				<type>string</type>
				<length>10</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Additional Response Data</name>
				<position>
					<begin-index>492</begin-index>
					<end-index>516</end-index>
				</position>
				<type>string</type>
				<length>25</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_avrs</transform-method>
			<field-dst>
				<name>auth_data/addr_verif_result</name>
				<position>
					<xpath>/operation/auth_data/addr_verif_result</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Currency Code Transaction</name>
				<position>
					<begin-index>517</begin-index>
					<end-index>519</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>oper_amount/currency</name>
				<position>
					<xpath>/operation/oper_surcharge_amount/currency</xpath>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Currency Code Settlement</name>
				<position>
					<begin-index>520</begin-index>
					<end-index>522</end-index>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>sttl_amount/currency</name>
				<position>
					<xpath>/operation/sttl_amount/currency</xpath>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Currency Code Cardholder Billing</name>
				<position>
					<begin-index>523</begin-index>
					<end-index>525</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>issuer/account_currency</name>
				<position>
					<xpath>/operation/issuer/account_currency</xpath>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Additional Amounts</name>
				<position>
					<begin-index>526</begin-index>
					<end-index>645</end-index>
				</position>
				<type>string</type>
				<length>120</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<!--may be should be a map?-->
			<field-dst>
				<name>auth_data/amounts</name>
				<position>
					<xpath>/operation/auth_data/amounts</xpath>
				</position>
				<type>string</type>
				<length>4000</length>
				<pattern/>
			</field-dst>
		</transform>
		<!-- not in xsd -->
		<!--transform>
			<field-src>
				<name>Replacement Amounts</name>
				<position>
					<begin-index>685</begin-index>
					<end-index>726</end-index>
				</position>
				<type>string</type>
				<length>42</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>oper_replacement_amount/amount_value</name>
				<position>
					<xpath>/operation/oper_replacement_amount/amount_value</xpath>
				</position>
				<type>string</type>
				<length>42</length>
				<pattern/>
			</field-dst>
		</transform-->
		<transform>
			<field-src>
				<name>Service Code</name>
				<position>
					<begin-index>765</begin-index>
					<end-index>767</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>auth_data/service_code</name>
				<position>
					<xpath>/operation/auth_data/service_code</xpath>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>SVFE Transaction Type</name>
				<position>
					<begin-index>781</begin-index>
					<end-index>783</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_optp</transform-method>
			<field-dst>
				<name>oper_type</name>
				<position>
					<xpath>/operation/oper_type</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>SVFE Transaction Type</name>
				<position>
					<begin-index>781</begin-index>
					<end-index>783</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_oper_reason</transform-method>
			<field-dst>
				<name>oper_reason</name>
				<position>
					<xpath>/operation/oper_reason</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>SVFE Transaction Type</name>
				<position>
					<begin-index>781</begin-index>
					<end-index>783</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method>posting_trans_type_to_msgt</transform-method>
			<field-dst>
				<name>msg_type</name>
				<position>
					<xpath>/operation/msg_type</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<!--transform>
			<is-optional>false</is-optional>
			<field-src>
				<name>SVFE Transaction Type</name>
				<position>
					<begin-index>775</begin-index>
					<end-index>777</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_msgt</transform-method>
			<field-dst>
				<name>oper_type</name>
				<position>
					<xpath>/operation/msg_type</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform-->
		<!--        <transform>
					<is-optional>false</is-optional>
					<field-src>
						<name>SVFE Account 1 Type</name>
						<position>
							<begin-index>778</begin-index>
							<end-index>778</end-index>
						</position>
						<type>number</type>
						<length>1</length>
						<pattern/>
					</field-src>
					<transform-method></transform-method>
					<field-dst>
						<name>issuer/account_type</name>
						<position>
							<xpath>/operation/issuer/account_type</xpath>
						</position>
						<type></type>
						<length></length>
						<pattern></pattern>
					</field-dst>
				</transform>
				<transform>
					<is-optional>false</is-optional>
					<field-src>
						<name>SVFE Account 2 Type</name>
						<position>
							<begin-index>779</begin-index>
							<end-index>779</end-index>
						</position>
						<type>number</type>
						<length>1</length>
						<pattern/>
					</field-src>
					<transform-method></transform-method>
					<field-dst>
						<name>destination/account_type</name>
						<position>
							<xpath>/operation/destination/account_type</xpath>
						</position>
						<type></type>
						<length></length>
						<pattern></pattern>
					</field-dst>
				</transform>-->
		<transform>
			<field-src>
				<name>SVFE Response Code</name>
				<position>
					<begin-index>786</begin-index>
					<end-index>788</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_rclm</transform-method>
			<field-dst>
				<name>response_code</name>
				<position>
					<xpath>/operation/status_reason</xpath>
					<xpath>/operation/auth_data/resp_code</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
				<dependent-field>
					<mapper>resp_to_opst</mapper>
					<position>
						<xpath>/operation/status</xpath>
					</position>
				</dependent-field>
			</field-dst>
		</transform>

		<transformation-block>
			<desc>Amount, Account 1 with currency</desc>
			<condition>
				<clause>if-opr-not-successful</clause>
			</condition>
			<transform>
				<!--Attention! This transform should be going after response_code!-->
				<field-src>
					<name>Amount, Account 1</name>
					<position>
						<begin-index>50</begin-index>
						<end-index>61</end-index>
					</position>
					<type>number</type>
					<length>12</length>
					<pattern/>
				</field-src>
				<transform-method>stringToDigit</transform-method>
				<field-dst>
					<name>oper_amount/amount_value</name>
					<position>
						<xpath>/operation/oper_amount/amount_value</xpath>
					</position>
					<type>long</type>
					<length>16</length>
					<pattern/>
				</field-dst>
			</transform>
			<transform>
				<condition>
					<dependsOn>
						<begin-index>50</begin-index>
						<end-index>61</end-index>
					</dependsOn>
					<clause>if-not-empty</clause>
				</condition>
				<field-src>
					<name>Currency Code Settlement</name>
					<position>
						<begin-index>520</begin-index>
						<end-index>522</end-index>
					</position>
					<type>number</type>
					<length>3</length>
					<pattern/>
				</field-src>
				<transform-method/>
				<field-dst>
					<name>oper_amount/currency</name>
					<position>
						<xpath>/operation/oper_amount/currency</xpath>
					</position>
					<type>string</type>
					<length>3</length>
					<pattern/>
				</field-dst>
			</transform>
		</transformation-block>
		<transform>
			<!--Attention! This transform should be going after /operation/status !-->
			<condition>
				<clause>if-opr-successful</clause>
			</condition>
			<field-src>
				<name>ATM Response Code</name>
				<position>
					<begin-index>789</begin-index>
					<end-index>791</end-index>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method>resp2_to_opst</transform-method>
			<field-dst>
				<name>status</name>
				<position>
					<xpath>/operation/status</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Account 1 Number</name>
				<position>
					<begin-index>792</begin-index>
					<end-index>823</end-index>
				</position>
				<type>string</type>
				<length>24</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>issuer/account_number</name>
				<position>
					<xpath>/operation/issuer/account_number</xpath>
				</position>
				<type>string</type>
				<length>32</length>
				<pattern/>
			</field-dst>
		</transform>
		<!--<transform>
			<field-src>
				<name>Account 2 Number</name>
				<position>
					<begin-index>824</begin-index>
					<end-index>855</end-index>
				</position>
				<type>string</type>
				<length>24</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>dectination/account_number</name>
				<position>
					<xpath>/operation/destination/account_number</xpath>
				</position>
				<type>string</type>
				<length>32</length>
				<pattern/>
			</field-dst>
		</transform>-->
		<transform>
			<field-src>
				<name>Card Acceptor Identification Code</name>
				<position>
					<begin-index>339</begin-index>
					<end-index>353</end-index>
				</position>
				<type>string</type>
				<length>15</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>merchant_number</name>
				<position>
					<xpath>/operation/merchant_number</xpath>
				</position>
				<type>string</type>
				<length>16</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<condition>
				<dependsOn>
					<begin-index>339</begin-index>
					<end-index>353</end-index>
				</dependsOn>
				<clause>if-empty</clause>
			</condition>
			<field-src>
				<name>Additional Merchant Identifier</name>
				<position>
					<begin-index>862</begin-index>
					<end-index>883</end-index>
				</position>
				<type>string</type>
				<length>22</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>merchant_number</name>
				<position>
					<xpath>/operation/merchant_number</xpath>
				</position>
				<type>string</type>
				<length>22</length>
				<pattern/>
			</field-dst>
		</transform>
		<transformation-block>
			<desc>Request Amount, Transaction with currency</desc>
			<condition>
				<clause>if-opr-successful</clause>
			</condition>
			<transform>
				<!--Attention! This transform should be going after response_code!-->
				<field-src>
					<name>Request Amount, Transaction</name>
					<position>
						<begin-index>884</begin-index>
						<end-index>895</end-index>
					</position>
					<type>string</type>
					<length>12</length>
					<pattern/>
				</field-src>
				<transform-method>stringToDigit</transform-method>
				<field-dst>
					<name>oper_amount/amount_value</name>
					<position>
						<xpath>/operation/oper_amount/amount_value</xpath>
					</position>
					<type>long</type>
					<length>12</length>
					<pattern/>
				</field-dst>
			</transform>
			<transform>
				<condition>
					<dependsOn>
						<begin-index>884</begin-index>
						<end-index>895</end-index>
					</dependsOn>
					<clause>if-not-empty</clause>
				</condition>
				<field-src>
					<name>Currency Code Transaction</name>
					<position>
						<begin-index>517</begin-index>
						<end-index>519</end-index>
					</position>
					<type>number</type>
					<length>3</length>
					<pattern/>
				</field-src>
				<transform-method/>
				<field-dst>
					<name>oper_amount/currency</name>
					<position>
						<xpath>/operation/oper_amount/currency</xpath>
					</position>
					<type>string</type>
					<length>3</length>
					<pattern/>
				</field-dst>
			</transform>
		</transformation-block>
		<transform>
			<field-src>
				<name>Terminal Type</name>
				<position>
					<begin-index>896</begin-index>
					<end-index>900</end-index>
				</position>
				<type>string</type>
				<length>5</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_trmt</transform-method>
			<field-dst>
				<name>terminal_type</name>
				<position>
					<xpath>/operation/terminal_type</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Completion Status</name>
				<position>
					<begin-index>901</begin-index>
					<end-index>901</end-index>
				</position>
				<type>number</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_cmpf</transform-method>
			<field-dst>
				<name>auth_data/is_completed</name>
				<position>
					<xpath>/operation/auth_data/is_completed</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Issuing Institution Identification Code</name>
				<position>
					<begin-index>912</begin-index>
					<end-index>922</end-index>
				</position>
				<type>string</type>
				<length>11</length>
				<pattern/>
			</field-src>
			<transform-method>posting_inst_to_inst</transform-method>
			<field-dst>
				<name>issuer/inst_id</name>
				<position>
					<xpath>/operation/issuer/inst_id</xpath>
				</position>
				<type>int</type>
				<length>4</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Acquiring Institution Identification Code</name>
				<position>
					<begin-index>923</begin-index>
					<end-index>934</end-index>
				</position>
				<type>string</type>
				<length>12</length>
				<pattern/>
			</field-src>
			<transform-method>posting_inst_to_inst</transform-method>
			<field-dst>
				<name>acquirer/inst_id</name>
				<position>
					<xpath>/operation/acquirer/inst_id</xpath>
				</position>
				<type>int</type>
				<length>4</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Card Type</name>
				<position>
					<begin-index>935</begin-index>
					<end-index>937</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_sttt</transform-method>
			<field-dst>
				<name>sttl_type</name>
				<position>
					<xpath>/operation/sttl_type</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<condition>
				<dependsOn>
					<begin-index>935</begin-index>
					<end-index>937</end-index>
				</dependsOn>
				<clause>if-equals</clause>
				<values>003</values>
			</condition>
			<transform-method>customValue</transform-method>
			<field-dst>
				<name>match_status</name>
				<value>MTST0200</value>
				<position>
					<xpath>/operation/match_status</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>PIN Presence</name>
				<position>
					<begin-index>938</begin-index>
					<end-index>938</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_pinp</transform-method>
			<field-dst>
				<name>auth_data/pin_presence</name>
				<position>
					<xpath>/operation/auth_data/pin_presence</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>939</begin-index>
					<end-index>939</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f221</transform-method>
			<field-dst>
				<name>auth_data/card_data_input_cap</name>
				<position>
					<xpath>/operation/auth_data/card_data_input_cap</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>940</begin-index>
					<end-index>940</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f222</transform-method>
			<field-dst>
				<name>auth_data/crdh_auth_cap</name>
				<position>
					<xpath>/operation/auth_data/crdh_auth_cap</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>941</begin-index>
					<end-index>941</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f223</transform-method>
			<field-dst>
				<name>auth_data/card_capture_cap</name>
				<position>
					<xpath>/operation/auth_data/card_capture_cap</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>942</begin-index>
					<end-index>942</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f224</transform-method>
			<field-dst>
				<name>auth_data/terminal_operating_env</name>
				<position>
					<xpath>/operation/auth_data/terminal_operating_env</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>943</begin-index>
					<end-index>943</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f225</transform-method>
			<field-dst>
				<name>auth_data/crdh_presence</name>
				<position>
					<xpath>/operation/auth_data/crdh_presence</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>944</begin-index>
					<end-index>944</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f226</transform-method>
			<field-dst>
				<name>auth_data/card_presence</name>
				<position>
					<xpath>/operation/auth_data/card_presence</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>945</begin-index>
					<end-index>945</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f227</transform-method>
			<field-dst>
				<name>auth_data/card_data_input_mode</name>
				<position>
					<xpath>/operation/auth_data/card_data_input_mode</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>946</begin-index>
					<end-index>946</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f228</transform-method>
			<field-dst>
				<name>auth_data/crdh_auth_method</name>
				<position>
					<xpath>/operation/auth_data/crdh_auth_method</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>947</begin-index>
					<end-index>947</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f229</transform-method>
			<field-dst>
				<name>auth_data/crdh_auth_entity</name>
				<position>
					<xpath>/operation/auth_data/crdh_auth_entity</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>948</begin-index>
					<end-index>948</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f22a</transform-method>
			<field-dst>
				<name>auth_data/card_data_output_cap</name>
				<position>
					<xpath>/operation/auth_data/card_data_output_cap</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>949</begin-index>
					<end-index>949</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f22b</transform-method>
			<field-dst>
				<name>auth_data/terminal_output_cap</name>
				<position>
					<xpath>/operation/auth_data/terminal_output_cap</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>POS Data code</name>
				<position>
					<begin-index>950</begin-index>
					<end-index>950</end-index>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-src>
			<transform-method>posting_to_f22c</transform-method>
			<field-dst>
				<name>auth_data/pin_capture_cap</name>
				<position>
					<xpath>/operation/auth_data/pin_capture_cap</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Additional Data</name>
				<position>
					<begin-index>951</begin-index>
					<end-index>1200</end-index>
				</position>
				<type>string</type>
				<length>250</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>auth_data/addl_data</name>
				<position>
					<xpath>/operation/auth_data/addl_data</xpath>
				</position>
				<type>string</type>
				<length>2000</length>
				<pattern/>
			</field-dst>
		</transform>

		<transform>
			<field-src>
				<name>SVFE Transaction Type</name>
				<position>
					<begin-index>781</begin-index>
					<end-index>783</end-index>
				</position>
				<type>number</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>oper_reason</name>
				<position>
					<xpath>/operation/oper_reason</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
				<converter-class>com.bpcbt.sv.camel.converters.mapping.file.PostingAddlDataConverter</converter-class>
			</field-dst>
		</transform>

		<!-- Additional amount -->
		<transform>
			<field-src>
				<name>Additional Amount</name>
				<position>
					<begin-index>226</begin-index>
					<end-index>233</end-index>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-src>
			<transform-method>stringToDigit</transform-method>
			<field-dst>
				<name>additional_amount/amount_value</name>
				<position>
					<xpath>/operation/additional_amount/amount_value</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<!--<condition>
				<dependsOn>
					<begin-index>226</begin-index>
					<end-index>233</end-index>
				</dependsOn>
				<clause>if-not-empty</clause>
			</condition>
            -->
			<transform-method>customValue</transform-method>
			<field-dst>
				<value>AMPR0020</value>
				<name>additional_amount/amount_type</name>
				<position>
					<xpath>/operation/additional_amount/amount_type</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<!--<condition>
				<dependsOn>
					<begin-index>226</begin-index>
					<end-index>233</end-index>
				</dependsOn>
				<clause>if-not-empty</clause>
			</condition>
            -->
			<field-src>
				<name>Additional Amount Currency</name>
				<position>
					<begin-index>523</begin-index>
					<end-index>525</end-index>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>additional_amount/currency</name>
				<position>
					<xpath>/operation/additional_amount/currency</xpath>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-dst>
		</transform>


		<!--BER-TLV-->
		<transform>
			<field-src>
				<name>BER-TLV Data</name>
				<position>
					<begin-index>1201</begin-index>
					<end-index>4000</end-index>
				</position>
				<type>string</type>
				<length>2800</length>
				<pattern/>
			</field-src>
			<transform-method>bertlvValue</transform-method>
		</transform>

		<transform>
			<field-src>
				<name>Birth date</name>
				<position/>
				<type>string</type>
				<length>8</length>
				<pattern>DF801C</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Address Line 1</name>
				<position/>
				<type>string</type>
				<length>64</length>
				<pattern>DF8020</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>64</length>
				<pattern>30</pattern>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Country</name>
				<position/>
				<type>string</type>
				<length>3</length>
				<pattern>DF8025</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern>33</pattern>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Postal/Zip Code</name>
				<position/>
				<type>string</type>
				<length>12</length>
				<pattern>DF8026</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>12</length>
				<pattern>34</pattern>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Mobile Phone</name>
				<position/>
				<type>string</type>
				<length>16</length>
				<pattern>DF8029</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>16</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Account status</name>
				<position/>
				<type>string</type>
				<length/>
				<pattern>DF8036</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length/>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Embossed name of the Cardholder</name>
				<position/>
				<type>string</type>
				<length>26</length>
				<pattern>DF8042</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>26</length>
				<pattern>13</pattern>
			</field-dst>
		</transform>
		<transform>
			<condition>
				<is-optional>true</is-optional>
			</condition>
			<field-src>
				<name>Issuer Account</name>
				<position/>
				<type>string</type>
				<length>32</length>
				<pattern>DF824C</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<name>issuer/account_number</name>
				<position>
					<xpath>/operation/issuer/account_number</xpath>
				</position>
				<type>string</type>
				<length>32</length>
				<pattern/>
			</field-dst>
		</transform>
		<!--<transform>
			<condition>
				<is-optional>true</is-optional>
			</condition>
			<field-src>
				<name>Issuer Account#2</name>
				<position/>
				<type>string</type>
				<length>32</length>
				<pattern>DF824D</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<name>destination/account_number</name>
				<position>
					<xpath>/operation/destination/account_number</xpath>
				</position>
				<type>string</type>
				<length>32</length>
				<pattern/>
			</field-dst>
		</transform>-->
		<transform>
			<condition>
				<is-optional>true</is-optional>
			</condition>
			<field-src>
				<name>External Auth ID</name>
				<position/>
				<type>string</type>
				<length>32</length>
				<pattern>DF8269</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<name>auth_data/external_auth_id</name>
				<position>
					<xpath>/operation/auth_data/external_auth_id</xpath>
				</position>
				<type>string</type>
				<length>32</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<condition>
				<is-optional>true</is-optional>
			</condition>
            <field-src>
				<name>External Original ID</name>
				<position>
					<begin-index>115</begin-index>
					<end-index>126</end-index>
				</position>
				<type>string</type>
				<length>12</length>
				<pattern/>
			</field-src>
			<transform-method/>
			<field-dst>
				<name>auth_data/external_orig_id</name>
				<position>
					<xpath>/operation/auth_data/external_orig_id</xpath>
				</position>
				<type>string</type>
				<length>32</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<condition>
				<is-optional>true</is-optional>
			</condition>
			<field-src>
				<name>EMV data</name>
				<position/>
				<type>string</type>
				<length>1200</length>
				<pattern>DF824E</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<name>auth_data/emv_data</name>
				<position>
					<xpath>/operation/auth_data/emv_data</xpath>
				</position>
				<type>string</type>
				<length>1200</length>
				<pattern/>
				<converter-class>com.bpcbt.sv.camel.converters.mapping.file.PostingEmvDataConverter</converter-class>
			</field-dst>
		</transform>
		<transform>
			<condition>
				<is-optional>true</is-optional>
			</condition>
			<field-src>
				<name>Service Number</name>
				<position/>
				<type>string</type>
				<length>8</length>
				<pattern>DF8347</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<name>payment_order/payment_order_number</name>
				<position>
					<xpath>/operation/payment_order/payment_order_number</xpath>
				</position>
				<type>string</type>
				<length>8</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>User entered data</name>
				<position/>
				<type>string</type>
				<length>32</length>
				<pattern>DF8402</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>32</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>User Entered Data Additional</name>
				<position/>
				<type>string</type>
				<length>32</length>
				<pattern>DF8403</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>32</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>SVFE Cashback Amount for POSPWC/ EPOSPWC transactions</name>
				<position/>
				<type>string</type>
				<length>12</length>
				<pattern>DF840F</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>12</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Chip Condition Code</name>
				<position/>
				<type>string</type>
				<length>1</length>
				<pattern>DF8411</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Acq Switch Date and Time if this information was send by Network, else SVFE System Date and Time
				</name>
				<position/>
				<type>string</type>
				<length>12</length>
				<pattern>DF8423</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>12</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<condition>
				<is-optional>true</is-optional>
			</condition>
			<field-src>
				<name>Payment Parameters Data</name>
				<position/>
				<type>string</type>
				<length>291</length>
				<pattern>DF8424</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<name>payment_order/payment_parameter</name>
				<position>
					<xpath>/operation/payment_order/payment_parameter</xpath>
				</position>
				<type>string</type>
				<length>291</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>PAN Mapping File Information</name>
				<position/>
				<type>string</type>
				<length>33</length>
				<pattern>DF843A</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>33</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Acq fee in BIN currency</name>
				<position/>
				<type>string</type>
				<length>12</length>
				<pattern>DF843E</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>12</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>ISS fee amount, partial</name>
				<position/>
				<type>string</type>
				<length>17</length>
				<pattern>DF8464</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>17</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>City</name>
				<position/>
				<type>string</type>
				<length>41</length>
				<pattern>DF8468</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>41</length>
				<pattern>31</pattern>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>CYBERPLAT Session ID</name>
				<position/>
				<type>string</type>
				<length>9</length>
				<pattern>DF8470</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>9</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Partial Authorization Amount</name>
				<position/>
				<type>string</type>
				<length>13</length>
				<pattern>DF8549</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>13</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>EMV early option</name>
				<position/>
				<type>string</type>
				<length>1</length>
				<pattern>DF8567</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>1</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Number of payments</name>
				<position/>
				<type>string</type>
				<length>3</length>
				<pattern>DF860A</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>3</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Validation Code</name>
				<position/>
				<type>string</type>
				<length>4</length>
				<pattern>DF860E</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>4</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Original Transaction Reference Id</name>
				<position/>
				<type>string</type>
				<length>15</length>
				<pattern>DF862F</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>15</length>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Domestic Card Acceptor Tax ID</name>
				<position/>
				<type>string</type>
				<length/>
				<pattern>DF8753</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length/>
				<pattern/>
			</field-dst>
		</transform>
		<transform>
			<field-src>
				<name>Installment Payment Data</name>
				<position/>
				<type>string</type>
				<length/>
				<pattern>DF8754</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length/>
				<pattern/>
			</field-dst>
		</transform>
		<!--
		<transform>
			<field-src>
				<name>Original Reference Data</name>
				<position/>
				<type>string</type>
				<length/>
				<pattern>DF862F</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data/transaction_id</xpath>
				</position>
				<type>string</type>
				<length>15</length>
				<pattern/>
			</field-dst>
		</transform>
		-->
		<transform>
			<field-src>
				<name>Visa MVV</name>
				<position/>
				<type>string</type>
				<length>10</length>
				<pattern>DF8A21</pattern>
			</field-src>
			<transform-method>bertlvToTag</transform-method>
			<field-dst>
				<position>
					<xpath>/operation/auth_data</xpath>
				</position>
				<type>string</type>
				<length>10</length>
				<pattern/>
			</field-dst>
		</transform>
		<!--BER-TLV end-->

		<!-- Block for FE 703 operation (Customer account funds transfer) -->
            <transformation-block>
			<desc>Transformations for the case when FE operation=TPTP703 (BO operation=OPTP0040), TPTP659 = OPTP0400, TPTP760 = OPTP0428</desc>
			<condition>
				<dependsOn>
					<begin-index>781</begin-index>
					<end-index>783</end-index>
				</dependsOn>
				<clause>if-equals</clause>
				<values>703,659,760</values>
			</condition>
			<transform>
				<transform-method>customValue</transform-method>
				<field-dst>
					<name>destination/client_id_type</name>
					<value>CITPACCT</value>
					<position>
						<xpath>/operation/destination/client_id_type</xpath>
					</position>
				</field-dst>
			</transform>
			<transform>
				<field-src>
					<name>Account 2 Number</name>
					<position>
						<begin-index>816</begin-index>
						<end-index>839</end-index>
					</position>
					<type>string</type>
					<length>24</length>
					<pattern/>
				</field-src>
				<field-dst>
					<name>destination/clent_id_value</name>
					<position>
						<xpath>/operation/destination/clent_id_value</xpath>
					</position>
					<type>string</type>
					<length>32</length>
				</field-dst>
			</transform>
			<transform>
				<field-src>
					<name>PAN</name>
					<position>
						<begin-index>1</begin-index>
						<end-index>19</end-index>
					</position>
					<type>string</type>
					<length>19</length>
				</field-src>
				<field-dst>
					<name>destination/card_number</name>
					<position>
						<xpath>/operation/destination/card_number</xpath>
					</position>
					<type>string</type>
					<length>19</length>
				</field-dst>
			</transform>
			<transform>
				<field-src>
					<name>Amount, Account 1</name>
					<position>
						<begin-index>50</begin-index>
						<end-index>61</end-index>
					</position>
					<type>number</type>
					<length>12</length>
					<pattern/>
				</field-src>
				<transform-method>stringToDigit</transform-method>
				<field-dst>
					<name>destination/account_amount</name>
					<position>
						<xpath>/operation/destination/account_amount</xpath>
					</position>
					<type>long</type>
					<length>16</length>
					<pattern/>
				</field-dst>
			</transform>
			<transform>
				<field-src>
					<name>Date, Expiration</name>
					<position>
						<begin-index>142</begin-index>
						<end-index>147</end-index>
					</position>
					<type>number</type>
					<length>6</length>
					<pattern>yyyyMM</pattern>
				</field-src>
				<transform-method>stringToDateCardExp</transform-method>
				<field-dst>
					<name>destination/card_expir_date</name>
					<position>
						<xpath>/operation/destination/card_expir_date</xpath>
					</position>
					<type>date</type>
					<length/>
					<pattern>yyyy-MM-dd'T'HH:mm:ss</pattern>
				</field-dst>
			</transform>
			<transform>
				<field-src>
					<name>Card Sequence Number</name>
					<position>
						<begin-index>208</begin-index>
						<end-index>210</end-index>
					</position>
					<type>number</type>
					<length>3</length>
					<pattern/>
				</field-src>
				<transform-method>stringToDigit</transform-method>
				<field-dst>
					<name>destination/card_seq_number</name>
					<position>
						<xpath>/operation/destination/card_seq_number</xpath>
					</position>
					<type>int</type>
					<length>4</length>
					<pattern/>
				</field-dst>
			</transform>
			<transform>
				<field-src>
					<name>Authorization Identification Response</name>
					<position>
						<begin-index>312</begin-index>
						<end-index>317</end-index>
					</position>
					<type>string</type>
					<length>6</length>
					<pattern/>
				</field-src>
				<transform-method/>
				<field-dst>
					<name>destination/auth_code</name>
					<position>
						<xpath>/operation/destination/auth_code</xpath>
					</position>
					<type>string</type>
					<length>6</length>
					<pattern/>
				</field-dst>
			</transform>
			<transform>
				<field-src>
					<name>Currency Code Cardholder Billing</name>
					<position>
						<begin-index>523</begin-index>
						<end-index>525</end-index>
					</position>
					<type>number</type>
					<length>3</length>
					<pattern/>
				</field-src>
				<transform-method/>
				<field-dst>
					<name>destination/account_currency</name>
					<position>
						<xpath>/operation/destination/account_currency</xpath>
					</position>
					<type>string</type>
					<length>3</length>
					<pattern/>
				</field-dst>
			</transform>
			<transform>
				<field-src>
					<name>Account 1 Number</name>
					<position>
						<begin-index>792</begin-index>
						<end-index>823</end-index>
					</position>
					<type>string</type>
					<length>24</length>
					<pattern/>
				</field-src>
				<transform-method/>
				<field-dst>
					<name>destination/account_number</name>
					<position>
						<xpath>/operation/destination/account_number</xpath>
					</position>
					<type>string</type>
					<length>32</length>
					<pattern/>
				</field-dst>
			</transform>
			<transform>
				<field-src>
					<name>Issuing Institution Identification Code</name>
					<position>
						<begin-index>912</begin-index>
						<end-index>922</end-index>
					</position>
					<type>string</type>
					<length>11</length>
					<pattern/>
				</field-src>
			    <transform-method>posting_inst_to_inst</transform-method>
				<field-dst>
					<name>destination/inst_id</name>
					<position>
						<xpath>/operation/destination/inst_id</xpath>
					</position>
					<type>int</type>
					<length>4</length>
					<pattern/>
				</field-dst>
			</transform>
			<transform>
				<condition>
					<is-optional>true</is-optional>
				</condition>
				<field-src>
					<name>Issuer Account</name>
					<position/>
					<type>string</type>
					<length>32</length>
					<pattern>DF824C</pattern>
				</field-src>
				<transform-method>bertlvToTag</transform-method>
				<field-dst>
					<name>destination/account_number</name>
					<position>
						<xpath>/operation/destination/account_number</xpath>
					</position>
					<type>string</type>
					<length>32</length>
					<pattern/>
				</field-dst>
			</transform>
		</transformation-block>
		<!-- END Block for FE 703 operation (Customer account funds transfer) -->

	</base>
	<end>
		<start>@</start>
	</end>
</transformation-map>